{% extends 'CSCoreBundle::layout.html.twig' %}

{% block title %}
    {{ parent() }} - Ajouter une application
{% endblock %}

{% block body %}
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/cscore/css/widgEditor.css') }}">
    <script type="text/javascript" src="{{ asset('bundles/cscore/js/widgEditor.js') }}"></script>

    <div class="container">
        <br>
        <br>

        <div class="well well-sm">

            <div class="btn-group text-right">
                <a href="{{ path('cs_applications_all') }}" title="Liste des applications" class="btn btn-default btn-sm text-right"><span
                            class="glyphicon glyphicon-list"></span> Liste
                </a>
            </div>
        </div>


        {% for message in app.session.flashbag.get('notice') %}
            <div>
                <div class="alert alert-dismissible text-success text-center">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong> {{ message }} </strong>
                </div>
            </div>
        {% endfor %}

        {% for message in app.session.flashbag.get('warning') %}
            <div>
                <div class="alert alert-dismissible text-danger text-center">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong> {{ message }} </strong>
                </div>
            </div>
        {% endfor %}

        <div class="well well-lg">

            {{ form_start(form,{'attr' : {'class' : 'form-horizontal','onsubmit':'valider()'}}) }}

            <div class="form-group">

                {{ form_label(form.nom,"Nom : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.nom,{'attr':{'class':'form-control','placeholder':'Nom de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.nom) }}
                </div>

            </div>


            <div class="form-group">

                {{ form_label(form.description,"Description : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.description,{'attr':{'class':'form-control widgEditor nothing','placeholder':'Description l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.description) }}
                </div>

            </div>

            <div class="form-group">

                {{ form_label(form.lienProd,"Lien de production : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.lienProd,{'attr':{'class':'form-control','placeholder':'Lien de production de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.lienProd) }}
                </div>

            </div>

            <div class="form-group">

                {{ form_label(form.lienDev,"Lien de développement : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.lienDev,{'attr':{'class':'form-control','placeholder':'Lien de développement de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.lienDev) }}
                </div>

            </div>


            <div class="form-group">

                {{ form_label(form.serveurProd,"Serveur de production: ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.serveurProd,{'attr':{'class':'form-control','title':'Serveur de production de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.serveurProd) }}
                </div>

            </div>

            <div class="form-group">

                {{ form_label(form.serveurDev,"Serveur de développement: ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.serveurDev,{'attr':{'class':'form-control','alt':'Serveur de développement de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.serveurDev) }}
                </div>

            </div>

            <div class="form-group">

                {{ form_label(form.technologie,"Technologie : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.technologie,{'attr':{'class':'form-control','placeholder':'Technologie de réalisation'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.technologie) }}
                </div>

            </div>

            <div class="form-group">

                {{ form_label(form.typeBase,"Base de données : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.typeBase,{'attr':{'class':'form-control','placeholder':'Base de données de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.typeBase) }}
                </div>

            </div>
            <div class="form-group">

                {{ form_label(form.developpeur,"Responsable technique : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.developpeur,{'attr':{'class':'form-control','alt':'Développeur principal de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.developpeur) }}
                </div>

            </div>
            <div class="form-group">

                {{ form_label(form.idDeveloppeur,"Développeurs : ",{'label_attr' : {'class': 'col-lg-3 control-label'}}) }}

                <div class="col-lg-6">
                    {{ form_widget(form.idDeveloppeur,{'attr':{'class':'form-control','alt':'Développeurs de l\'application'}}) }}
                </div>

                <div class="col-lg-3 text-danger">
                    {{ form_errors(form.idDeveloppeur) }}
                </div>

            </div>

            <div class="form-group">
                <div class="col-lg-4"></div>
                <div class="col-lg-4">
                    <input type="submit" class="btn btn-primary" value="Enregistrer" onclick="valider()"/>
                </div>
                <div class="col-lg-4"></div>
            </div>


            {{ form_rest(form) }}

            {{ form_end(form) }}

        </div>

    </div>

    <script>
        function valider() {
            desc = document.getElementById('cs_applicationsbundle_application_description').value ;
            alert(desc) ;
            document.getElementById('cs_applicationsbundle_application_descriptionWidgEditor').value = desc ;
            return true;
        }
    </script>

{% endblock %}

